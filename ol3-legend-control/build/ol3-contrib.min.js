// Generated by uRequire v0.7.0-beta.11 target: 'publish' template: 'combined'
// Combined template optimized with RequireJS/r.js v2.1.15 & almond v0.3.0.
/**
 * @license almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

(function(){var e=!("function"!=typeof define||!define.amd),t="object"==typeof exports,n=t?require:function(e){throw new Error("uRequire: combined template, trying to load `node` dep `"+e+"` in non-nodejs runtime (browser).")},o=function(e,t){throw new Error("uRequire: combined template `undefined`, detected missing dependency `"+e+"` - all it's known binding variables `"+t+"` were `undefined`")},r=function(e,r){var i,l,u;return function(e){function t(e,t){return b.call(e,t)}function n(e,t){var n,o,r,i,l,u,s,a,f,c,p,d=t&&t.split("/"),h=v.map,g=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),l=e.length-1,v.nodeIdCompat&&C.test(e[l])&&(e[l]=e[l].replace(C,"")),e=d.concat(e),f=0;f<e.length;f+=1)if(p=e[f],"."===p)e.splice(f,1),f-=1;else if(".."===p){if(1===f&&(".."===e[2]||".."===e[0]))break;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||g)&&h){for(n=e.split("/"),f=n.length;f>0;f-=1){if(o=n.slice(0,f).join("/"),d)for(c=d.length;c>0;c-=1)if(r=h[d.slice(0,c).join("/")],r&&(r=r[o])){i=r,u=f;break}if(i)break;!s&&g&&g[o]&&(s=g[o],a=f)}!i&&s&&(i=s,u=a),i&&(n.splice(0,u,i),e=n.join("/"))}return e}function o(t,n){return function(){var o=w.call(arguments,0);return"string"!=typeof o[0]&&1===o.length&&o.push(null),d.apply(e,o.concat([t,n]))}}function r(e){return function(t){return n(t,e)}}function s(e){return function(t){m[e]=t}}function a(n){if(t(y,n)){var o=y[n];delete y[n],x[n]=!0,p.apply(e,o)}if(!t(m,n)&&!t(x,n))throw new Error("No "+n);return m[n]}function f(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function c(e){return function(){return v&&v.config&&v.config[e]||{}}}var p,d,h,g,m={},y={},v={},x={},b=Object.prototype.hasOwnProperty,w=[].slice,C=/\.js$/;h=function(e,t){var o,i=f(e),l=i[0];return e=i[1],l&&(l=n(l,t),o=a(l)),l?e=o&&o.normalize?o.normalize(e,r(t)):n(e,t):(e=n(e,t),i=f(e),l=i[0],e=i[1],l&&(o=a(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:o}},g={require:function(e){return o(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:c(e)}}},p=function(n,r,i,l){var u,f,c,p,d,v,b=[],w=typeof i;if(l=l||n,"undefined"===w||"function"===w){for(r=!r.length&&i.length?["require","exports","module"]:r,d=0;d<r.length;d+=1)if(p=h(r[d],l),f=p.f,"require"===f)b[d]=g.require(n);else if("exports"===f)b[d]=g.exports(n),v=!0;else if("module"===f)u=b[d]=g.module(n);else if(t(m,f)||t(y,f)||t(x,f))b[d]=a(f);else{if(!p.p)throw new Error(n+" missing "+f);p.p.load(p.n,o(l,!0),s(f),{}),b[d]=m[f]}c=i?i.apply(m[n],b):void 0,n&&(u&&u.exports!==e&&u.exports!==m[n]?m[n]=u.exports:c===e&&v||(m[n]=c))}else n&&(m[n]=i)},i=l=d=function(t,n,o,r,i){if("string"==typeof t)return g[t]?g[t](n):a(h(t,n).f);if(!t.splice){if(v=t,v.deps&&d(v.deps,v.callback),!n)return;n.splice?(t=n,n=o,o=null):t=e}return n=n||function(){},"function"==typeof o&&(o=r,r=i),r?p(e,t,n,o):setTimeout(function(){p(e,t,n,o)},4),d},d.config=function(e){return d(e)},i._defined=m,u=function(e,n,o){n.splice||(o=n,n=[]),t(m,e)||t(y,e)||(y[e]=[e,n,o])},u.amd={jQuery:!0}}(),u("almond",function(){}),u("openLayers",[],function(){return t?n("openLayers"):"undefined"!=typeof e?e:o("openLayers","ol")}),u("ol3-info-control",["require","exports","module","exports","openLayers"],function(e,t,n,t,o){var r=function(e){function t(t){void 0===t&&(t={}),e.call(this,{element:this.createElement(),target:t.target})}return __extends(t,e),t.prototype.createElement=function(){return this.element=document.createElement("div"),this.element.setAttribute("class","ol-info ol-control"),this.element},t.prototype.setText=function(e){this.element.innerText=e},t.prototype.setMap=function(e){o.control.Control.prototype.setMap.call(this,e)},t}(o.control.Control);return r}),u("jquery",[],function(){return t?n("jquery"):"undefined"!=typeof r?r:o("jquery","$")}),u("ol3-legend-control",["require","exports","module","exports","openLayers","jquery"],function(e,t,n,t,o,r){var i=function(e){function t(t){var n=this;e.call(this,{element:this.createElement(),target:t.target}),this.maxValue=Number.MIN_VALUE,this.minValue=Number.MAX_VALUE,this.options=t,this.options.steps.forEach(function(e){e.value<n.minValue&&(n.minValue=e.value),e.value>n.maxValue&&(n.maxValue=e.value),"undefined"==typeof e.showMarker&&(e.showMarker=!0)})}return __extends(t,e),t.prototype.createElement=function(){return this.element=document.createElement("div"),this.element.setAttribute("class","ol-legend ol-control"),this.element},t.prototype.setMap=function(e){var t=this;o.control.Control.prototype.setMap.call(this,e),console.log(r(this.element).innerHeight()),this.legendCanvas=document.createElement("canvas"),this.element.appendChild(this.legendCanvas),this.legendCanvas.width=this.legendCanvas.offsetWidth,this.legendCanvas.height=this.options.gradientHeight||this.legendCanvas.offsetHeight;var n=this.legendCanvas.getContext("2d");n.font="16px Georgia";var i=this.options.gradientWidth||20,l=10,u=this.legendCanvas.height-2*l,s=!1,a=Number.MIN_VALUE,f=n.createLinearGradient(0,0,0,u);this.options.steps.forEach(function(e){var o=1-e.value/(t.maxValue-t.minValue);if(f.addColorStop(o,e.color),e.showMarker){n.beginPath(),n.moveTo(l+(s?0:i),l+o*u),n.lineTo(l+(s?0:i)+(s?-10:10),l+o*u),n.stroke();var r=e.text||e.value.toString();r.length>a&&(a=r.length),n.fillText(r,l+(s?0:i)+(s?-10:10)+2,l+o*u+4)}}),n.fillStyle=f,n.lineWidth=1,n.strokeStyle="black",n.fillRect(l,l,i,u),n.strokeRect(l,l,i,u),this.element.style.width=i+2*l+10+8*a+"px",this.element.style.height=u+2*l+"px"},t}(o.control.Control);t.LegendControl=i}),u("ol3-contrib",["require","exports","module","exports","./ol3-info-control","./ol3-legend-control"],function(e,t,n,t,o,r){var i;return function(e){var t;!function(e){e.InfoControl=o,e.LegendControl=r.LegendControl}(t=e.controls||(e.controls={}))}(i||(i={})),i}),l("ol3-contrib")};return e?define(["openLayers","jquery"],r):t?module.exports=r(require("openLayers"),require("jquery")):r("undefined"!=typeof ol?ol:void 0,"undefined"!=typeof $?$:void 0)}).call(this,"object"==typeof exports||"undefined"==typeof window?global:window,"object"==typeof exports||"undefined"==typeof window?global:window);